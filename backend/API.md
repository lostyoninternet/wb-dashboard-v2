# API Документация Wildberries Dashboard

## Аутентификация

Все запросы к API должны содержать заголовок `x-api-key` с действительным API ключом Wildberries.

```
x-api-key: ваш_api_ключ_wildberries
```

## Endpoints

### Получение информации о товаре

```
GET /api/products/:articleNumber
```

#### Параметры URL

| Параметр | Тип | Описание |
|----------|-----|----------|
| articleNumber | string | Артикул товара Wildberries |

#### Пример запроса

```
GET /api/products/236572558
```

#### Пример ответа

```json
{
  "nmId": 236572558,
  "name": "Название товара",
  "brand": "Бренд",
  "category": "Категория",
  "price": 1000,
  "discount": 10
}
```

#### Коды ответа

| Код | Описание |
|-----|----------|
| 200 | Успешно |
| 401 | Отсутствует или неверный API ключ |
| 404 | Товар не найден |
| 500 | Ошибка сервера |

### Получение статистики по товару

```
GET /api/statistics/:articleNumber
```

#### Параметры URL

| Параметр | Тип | Описание |
|----------|-----|----------|
| articleNumber | string | Артикул товара Wildberries |

#### Параметры запроса

| Параметр | Тип | Описание | По умолчанию |
|----------|-----|----------|-------------|
| dateFrom | string | Начальная дата в формате YYYY-MM-DD | 30 дней назад |
| dateTo | string | Конечная дата в формате YYYY-MM-DD | Сегодня |

#### Пример запроса

```
GET /api/statistics/236572558?dateFrom=2025-02-01&dateTo=2025-03-01
```

#### Пример ответа

```json
{
  "summary": {
    "totalSales": 150,
    "totalRevenue": 120000,
    "ordersCount": 160
  },
  "details": [
    {
      "date": "2025-02-01",
      "sales": {
        "quantity": 5,
        "revenue": 4000
      },
      "orders": {
        "quantity": 6,
        "canceled": 1
      },
      "views": {
        "total": 100,
        "unique": 80
      }
    },
    // ... другие даты
  ],
  "stocks": {
    "current": 50,
    "warehouses": [
      {
        "warehouse": "Склад 1",
        "quantity": 30
      },
      {
        "warehouse": "Склад 2",
        "quantity": 20
      }
    ]
  }
}
```

#### Коды ответа

| Код | Описание |
|-----|----------|
| 200 | Успешно |
| 401 | Отсутствует или неверный API ключ |
| 404 | Товар не найден |
| 500 | Ошибка сервера |

## Обработка ошибок

В случае ошибки API возвращает JSON-объект со следующей структурой:

```json
{
  "error": "Описание ошибки"
}
```

## Ограничения

- Максимальное количество запросов: 100 запросов в 15 минут (настраивается в .env)
- Период статистики: не более 90 дней
